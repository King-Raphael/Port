<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Boyan Peng | Photography &amp; Media Art</title>
  <!-- 新增：引入 Google Font 'Inter' -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>

<body class="page-root">
  <!-- 顶部导航 -->
  <header class="site-header">
    <div class="container nav-container">
      <div class="logo">
        <a href="index.html">Boyan Peng</a>
      </div>
      <nav class="nav">
        <a href="index.html" class="active">Home</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main class="page">
    <!-- 全屏横图自动切换 -->
    <section class="hero-slider">
      <!-- <div class="hero-indicator">
        <span id="hero-index">01</span>
        <span class="hero-indicator-separator">/</span>
        <span class="hero-indicator-total">03</span>
      </div> -->
      <div class="hero-slides">
        <!-- Slide 1 -->
        <div class="hero-slide active">
          <img src="images/hero-01.jpg" alt="Hero image 1" fetchpriority="high" loading="eager" />
          <div class="hero-text">
            <p class="hero-kicker">Erhai · Dali</p>
            <h1 class="hero-title">
              Sea and sky in one blue,<br />
              a quiet hotel on the shore.
            </h1>
          </div>
          <div class="hero-meta">
            <span class="hero-meta-title">Travel · Water &amp; Sky</span>
            <span class="hero-meta-line">Dali · 2024 · Mingyue Songjian Hotel</span>
          </div>
        </div>

        <!-- Slide 2 -->
        <div class="hero-slide">
          <img src="images/hero-02.jpg" alt="Hero image 2" loading="lazy" />
          <div class="hero-text">
            <p class="hero-kicker">Midnight · Bethesda Terrace</p>
            <h1 class="hero-title">
              An old guitar under stone arches,<br />
              holding the square in its echo.
            </h1>
          </div>
          <div class="hero-meta">
            <span class="hero-meta-title">Street · Night</span>
            <span class="hero-meta-line">New York · 2025 · Bethesda Terrace</span>
          </div>
        </div>

        <!-- Slide 3 -->
        <div class="hero-slide">
          <img src="images/hero-03.jpg" alt="Hero image 3" loading="lazy" />
          <div class="hero-text">
            <p class="hero-kicker">Forest · Porcelain Factory</p>
            <h1 class="hero-title">
              An old kiln turned into a hotel,<br />
              sharing breath with the trees.
            </h1>
          </div>
          <div class="hero-meta">
            <span class="hero-meta-title">Architecture · Morning</span>
            <span class="hero-meta-line">Jingdezhen · 2025 · Hotel in an old porcelain factory</span>
          </div>
        </div>
      </div>
      <!-- <div class="scroll-hint">
        <span>Scroll</span>
        <div class="scroll-line"></div>
      </div> -->
      <div class="hero-pagination">
      </div>
    </section>

    <section class="section hero-caption">
      <div class="container">
        <p class="hero-caption-text">
          BOYAN PENG · photography &amp; media art · 2022 – 2025
        </p>
      </div>
    </section>
    <!-- 类别：竖着平分的几条大块，每条是一个 link -->
    <section class="categories">
      <div class="container">
        <div class="section-header">
          <p class="section-kicker">Series</p>
          <h2 class="section-title">
            Travel, portrait, street, event, still life,
            installation, web interactive, short film.
          </h2>
          <p class="section-subtitle">
            Eight threads of work, moving between photography and media art.
          </p>
        </div>
        <div class="category-vertical-list">
          <!-- 01 Travel -->
          <a href="travel.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/travel-cover.jpg" alt="Travel cover" loading="lazy" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">01</span>
                <span class="category-name-en">Travel</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">旅行</span>
                <span class="category-cta">View series</span>
              </div>
            </div>
          </a>

          <!-- 02 Portrait -->
          <a href="portrait.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/portrait-cover.jpg" alt="Portrait cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">02</span>
                <span class="category-name-en">Portrait</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">人像</span>
                <span class="category-cta">View series</span>
              </div>
            </div>
          </a>

          <!-- 03 Street -->
          <a href="street.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/street-cover.jpg" alt="Street cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">03</span>
                <span class="category-name-en">Street</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">街拍</span>
                <span class="category-cta">View series</span>
              </div>
            </div>
          </a>

          <!-- 04 Event -->
          <a href="event.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/event-cover.jpg" alt="Event cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">04</span>
                <span class="category-name-en">Event</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">活动</span>
                <span class="category-cta">View series</span>
              </div>
            </div>
          </a>

          <!-- 05 Still Life -->
          <a href="still.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/still-cover.jpg" alt="Still life cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">05</span>
                <span class="category-name-en">Still Life</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">静物</span>
                <span class="category-cta">View series</span>
              </div>
            </div>
          </a>

          <!-- 06 Installation Art -->
          <a href="installation.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/installation-cover.jpg" alt="Installation art cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">06</span>
                <span class="category-name-en">Installation</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">装置艺术</span>
                <span class="category-cta">View works</span>
              </div>
            </div>
          </a>

          <!-- 07 Web Interactive Art -->
          <a href="web-interactive.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/web-interactive-cover.jpg" alt="Web interactive art cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">07</span>
                <span class="category-name-en">Web Interactive</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">网页交互艺术</span>
                <span class="category-cta">View works</span>
              </div>
            </div>
          </a>

          <!-- 08 Short Film -->
          <a href="short-film.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/short-film-cover.jpg" alt="Short film cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">08</span>
                <span class="category-name-en">Short Films</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">微电影</span>
                <span class="category-cta">View works</span>
              </div>
            </div>
          </a>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about" class="section section-about">
      <div class="container about-layout">
        <div class="about-text reveal-on-scroll">
          <h2>About</h2>
          <p class="about-en">
            I'm Raphael (Boyan) Peng, a photographer, media artist and visual storyteller
            based between New York and Shanghai. I move between travel diaries, portraits
            of friends, street scenes, event documentation, still life studies, installations,
            web-based interactive pieces and short films.
          </p>
          <p class="about-en">
            This site is a small selection of work — not everything, just the images and
            experiments that stayed with me a bit longer.
          </p>
          <p class="about-zh">
            我是彭柏琰（Raphael），在纽约与上海之间游走的摄影师、媒体艺术创作者与影像叙事者。
            这里不是全部作品，只是一些暂时被留下的片段：旅行、人像、街拍、活动、静物，
            以及装置、网页交互作品和短片。
          </p>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="section section-contact">
      <div class="container">
        <h2>Contact</h2>
        <div class="contact-grid">
          <div class="contact-block reveal-on-scroll">
            <h3>Email</h3>
            <p><a href="mailto:fuyiboyan@email.com">fuyiboyan@email.com</a></p>
          </div>
          <div class="contact-block reveal-on-scroll">
            <h3>Social</h3>
            <ul class="contact-list">
              <li><a href="#" target="_blank" rel="noreferrer">Instagram</a></li>
              <li><a href="https://www.xiaohongshu.com/user/profile/5f0745550000000001002111" target="_blank"
                  rel="noreferrer">Xiaohongshu</a></li>
              <li><a href="https://space.bilibili.com/286403219?spm_id_from=333.1365.0.0" target="_blank"
                  rel="noreferrer">Bilibili</a></li>
            </ul>
          </div>
          <div class="contact-block reveal-on-scroll">
            <h3>Based in</h3>
            <p>New York &amp; Shanghai</p>
          </div>
        </div>
        <div class="contact-cta-wrap reveal-on-scroll">
          <a class="contact-cta" href="mailto:...">Work together</a>
          <p class="contact-cta-note">
            Shoots, installations, interactive projects and film collaborations are all welcome.
          </p>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-content">
      <p>© <span id="year"></span> Boyan Peng. All rights reserved.</p>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Hero 轮播逻辑（不再因为 hover 暂停）
    const slides = document.querySelectorAll('.hero-slide');
    const paginationContainer = document.querySelector('.hero-pagination');

    let currentSlide = 0;
    let slideTimer = null;

    // 1. 初始化底部圆点
    if (slides.length > 0 && paginationContainer) {
      slides.forEach((_, index) => {
        const dot = document.createElement('div');
        dot.classList.add('hero-dot');
        if (index === 0) dot.classList.add('active');
        paginationContainer.appendChild(dot);
      });
    }

    const dots = document.querySelectorAll('.hero-dot');

    // 2. 切换到指定某一张
    function goToSlide(index) {
      if (!slides.length) return;

      // 移除当前
      slides[currentSlide].classList.remove('active');
      if (dots[currentSlide]) dots[currentSlide].classList.remove('active');

      // 计算新索引（支持循环）
      currentSlide = (index + slides.length) % slides.length;

      // 激活新的一张
      slides[currentSlide].classList.add('active');
      if (dots[currentSlide]) dots[currentSlide].classList.add('active');
    }

    // 3. 自动轮播
    function startAuto() {
      if (slides.length <= 1) return;
      clearInterval(slideTimer);
      slideTimer = setInterval(() => {
        goToSlide(currentSlide + 1);
      }, 6000); // 要和 CSS 里的 6000ms 对齐
    }

    // 4. 底部圆点点击
    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        if (currentSlide === index) return; // 点自己就不动
        goToSlide(index);
        startAuto(); // 点击之后重新开始计时
      });
    });

    // 初始启动
    startAuto();

        // 初始启动
    startAuto();

    // 5. 滑动 / 拖拽切换（移动端 + 电脑端）
    const heroSection = document.querySelector('.hero-slider');

    if (heroSection && slides.length > 1) {
      let startX = 0;
      let startY = 0;
      let isPointerDown = false;
      let isHorizontalSwipe = false;
      const SWIPE_THRESHOLD = 40; // 需要滑动的最小距离

      heroSection.addEventListener('pointerdown', (e) => {
        // 电脑端只处理左键拖拽；触屏不限制
        if (e.pointerType === 'mouse' && e.button !== 0) return;

        isPointerDown = true;
        isHorizontalSwipe = false;
        startX = e.clientX;
        startY = e.clientY;
      });

      heroSection.addEventListener('pointermove', (e) => {
        if (!isPointerDown) return;

        const dx = e.clientX - startX;
        const dy = e.clientY - startY;

        // 横向位移明显大于纵向，才算是左右滑
        if (Math.abs(dx) > Math.abs(dy)) {
          isHorizontalSwipe = true;
        }
      });

      heroSection.addEventListener('pointerup', (e) => {
        if (!isPointerDown) return;
        isPointerDown = false;

        if (!isHorizontalSwipe) return;

        const dx = e.clientX - startX;

        if (Math.abs(dx) > SWIPE_THRESHOLD) {
          if (dx < 0) {
            // 向左滑 / 向左拖 —— 下一张
            goToSlide(currentSlide + 1);
          } else {
            // 向右滑 / 向右拖 —— 上一张
            goToSlide(currentSlide - 1);
          }
          startAuto(); // 切换后重新开始自动轮播
        }

        isHorizontalSwipe = false;
      });

      // 鼠标拖出区域时取消本次滑动
      heroSection.addEventListener('pointerleave', () => {
        isPointerDown = false;
        isHorizontalSwipe = false;
      });

      // 触控板两指左右滑（wheel 横向滚动）也切换
      let wheelLocked = false;
      let wheelTimer = null;
      const WHEEL_THRESHOLD = 30; // 横向滚动超过多少像素才触发

      heroSection.addEventListener(
        'wheel',
        (e) => {
          // 如果垂直滚动更大，就当正常滚动用，直接返回
          if (Math.abs(e.deltaY) >= Math.abs(e.deltaX)) return;

          // 防止一滑切好多张：在短时间内只响应一次
          if (wheelLocked) return;

          if (Math.abs(e.deltaX) > WHEEL_THRESHOLD) {
            // 不让浏览器尝试横向滚动
            e.preventDefault();

            if (e.deltaX > 0) {
              // 往右推手势：下一张
              goToSlide(currentSlide + 1);
            } else {
              // 往左推手势：上一张
              goToSlide(currentSlide - 1);
            }
            startAuto();

            wheelLocked = true;
            clearTimeout(wheelTimer);
            wheelTimer = setTimeout(() => {
              wheelLocked = false;
            }, 500); // 0.5 秒内只触发一次
          }
        },
        { passive: false }
      );
    }

    // 页面淡入 / 淡出 (增强版：防止白屏)
    const page = document.querySelector('.page');

    if (page) {
      // 定义显示页面的函数
      const showPage = () => {
        requestAnimationFrame(() => {
          page.classList.add('page--visible');
        });
      };

      // 策略 1: 如果页面已经加载好了，直接显示
      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        showPage();
      } else {
        // 策略 2: 监听加载事件
        window.addEventListener('DOMContentLoaded', showPage);
        window.addEventListener('load', showPage);
      }

      // 策略 3: 【最终保底】无论如何，500ms 后强制显示，防止永久白屏
      setTimeout(showPage, 500);

      // 点击类别卡片时先淡出，再跳转
      document.querySelectorAll('.category-row').forEach(link => {
        link.addEventListener('click', (e) => {
          const href = link.getAttribute('href');
          if (!href || href.startsWith('#') || href.startsWith('http')) return;

          // 优先使用现代的 View Transitions
          if (document.startViewTransition) {
            e.preventDefault();
            document.startViewTransition(() => {
              window.location.href = href;
            });
          } else {
            e.preventDefault();
            page.classList.add('page--hidden');
            setTimeout(() => {
              window.location.href = href;
            }, 200);
          }
        });
      });
    }

    // Scroll reveal for elements with .reveal-on-scroll
    const revealEls = document.querySelectorAll('.reveal-on-scroll');

    if (revealEls.length && 'IntersectionObserver' in window) {
      const io = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            io.unobserve(entry.target);
          }
        });
      }, { threshold: 0.15 });

      revealEls.forEach(el => io.observe(el));
    } else {
      // Fallback: if IntersectionObserver is not supported, show all immediately
      revealEls.forEach(el => el.classList.add('is-visible'));
    }
  </script>

</body>

</html>