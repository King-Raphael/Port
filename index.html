<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Boyan Peng | Photography &amp; Media Art</title>
  <!-- 新增：引入 Google Font 'Inter' -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <link rel="preload" as="image" href="images/hero-02.jpg">
  <link rel="preload" as="image" href="images/hero-03.jpg">
</head>

<body class="page-root">
  <!-- 顶部导航 -->
  <header class="site-header">
    <div class="container nav-container">
      <div class="logo">
        <a href="index.html">Boyan Peng</a>
      </div>
      <nav class="nav">
        <a href="index.html" class="active">Home</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main class="page">
    <!-- 全屏横图自动切换 -->
    <section class="hero-slider">
      <!-- <div class="hero-indicator">
        <span id="hero-index">01</span>
        <span class="hero-indicator-separator">/</span>
        <span class="hero-indicator-total">03</span>
      </div> -->
      <div class="hero-slides">
        <!-- Slide 1 -->
        <div class="hero-slide is-active">
          <img src="images/hero-01.jpg" alt="Hero image 1" fetchpriority="high" loading="eager" />
          <div class="hero-text">
            <p class="hero-kicker">Erhai · Dali</p>
            <h1 class="hero-title">
              Sea and sky in one blue,<br />
              a quiet hotel on the shore.
            </h1>
          </div>
          <div class="hero-meta">
            <span class="hero-meta-title">Travel · Water &amp; Sky</span>
            <span class="hero-meta-line">Dali · 2024 · Mingyue Songjian Hotel</span>
          </div>
        </div>

        <!-- Slide 2 -->
        <div class="hero-slide">
          <img src="images/hero-02.jpg" alt="Hero image 2" fetchpriority="high" loading="eager" decoding="async" />
          <div class="hero-text">
            <p class="hero-kicker">Midnight · Bethesda Terrace</p>
            <h1 class="hero-title">
              An old guitar under stone arches,<br />
              holding the square in its echo.
            </h1>
          </div>
          <div class="hero-meta">
            <span class="hero-meta-title">Street · Night</span>
            <span class="hero-meta-line">New York · 2025 · Bethesda Terrace</span>
          </div>
        </div>

        <!-- Slide 3 -->
        <div class="hero-slide">
          <img src="images/hero-03.jpg" alt="Hero image 3" fetchpriority="high" loading="eager" decoding="async" />
          <div class="hero-text">
            <p class="hero-kicker">Forest · Porcelain Factory</p>
            <h1 class="hero-title">
              An old kiln turned into a hotel,<br />
              sharing breath with the trees.
            </h1>
          </div>
          <div class="hero-meta">
            <span class="hero-meta-title">Architecture · Morning</span>
            <span class="hero-meta-line">Jingdezhen · 2025 · ChuanShang Xing</span>
          </div>
        </div>

        <!-- 现有的三张 Slide 在这里 -->

        <!-- Slide 4：森林倒影 · 双重自我 -->
        <div class="hero-slide">
          <img src="images/hero-04.jpg" alt="Figure sitting above a mirrored forest lake" fetchpriority="high"
            loading="eager" decoding="async" />
          <div class="hero-text">
            <p class="hero-kicker">Forest · Mirror Lake</p>
            <h1 class="hero-title">
              One body, two reflections,<br />
              between fog and the first light.
            </h1>
          </div>
          <div class="hero-meta">
            <span class="hero-meta-title">Portrait · Mist</span>
            <span class="hero-meta-line">Shanghai · 2024 · Gongqing Forest Park</span>
          </div>
        </div>

        <!-- Slide 5：湖中城堡 · 山水之间 -->
        <div class="hero-slide">
          <img src="images/hero-05.jpg" alt="Castle on a rock island surrounded by lake and mountains"
            fetchpriority="high" loading="eager" decoding="async" />
          <div class="hero-text">
            <p class="hero-kicker">Lake · Castle</p>
            <h1 class="hero-title">
              A borrowed castle on a rock,<br />
              floating between mountains and water.
            </h1>
          </div>
          <div class="hero-meta">
            <span class="hero-meta-title">Travel · Aerial</span>
            <span class="hero-meta-line">Xingyi · 2023 · Jilong Castle</span>
          </div>
        </div>

        <!-- Slide 6：吊灯与书海 · 玻璃鹿 -->
        <div class="hero-slide">
          <img src="images/hero-06.jpg" alt="Crystal chandeliers above a glass deer in a bookstore" fetchpriority="high"
            loading="eager" decoding="async" />
          <div class="hero-text">
            <p class="hero-kicker">Bookstore · Glass Deer</p>
            <h1 class="hero-title">
              Crystal lights above a sea of shelves,<br />
              a deer made of bubbles watching them glow.
            </h1>
          </div>
          <div class="hero-meta">
            <span class="hero-meta-title">Still Life · Light</span>
            <span class="hero-meta-line">Shanghai · 2024 · ZiWU</span>
          </div>
        </div>
      </div>


      <!-- <div class="scroll-hint">
        <span>Scroll</span>
        <div class="scroll-line"></div>
      </div> -->
      <div class="hero-pagination">
      </div>
    </section>

    <section class="section hero-caption">
      <div class="container">
        <p class="hero-caption-text">
          BOYAN PENG · photography &amp; media art · 2022 – 2025
        </p>
      </div>
    </section>
    <!-- 类别：竖着平分的几条大块，每条是一个 link -->
    <section class="categories">
      <div class="container">
        <div class="section-header">
          <p class="section-kicker">Series</p>
          <h2 class="section-title">
            Travel, portrait, street, event, still life,
            installation, web interactive, short film.
          </h2>
          <p class="section-subtitle">
            Eight threads of work, moving between photography and media art.
          </p>
        </div>
        <div class="category-vertical-list">
          <!-- 01 Travel -->
          <a href="travel.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/travel-cover.jpg" alt="Travel cover" loading="lazy" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">01</span>
                <span class="category-name-en">Travel</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">旅行</span>
                <span class="category-cta">View series</span>
              </div>
            </div>
          </a>

          <!-- 02 Portrait -->
          <a href="portrait.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/portrait-cover.jpg" alt="Portrait cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">02</span>
                <span class="category-name-en">Portrait</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">人像</span>
                <span class="category-cta">View series</span>
              </div>
            </div>
          </a>

          <!-- 03 Street -->
          <a href="street.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/street-cover.jpg" alt="Street cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">03</span>
                <span class="category-name-en">Street</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">街拍</span>
                <span class="category-cta">View series</span>
              </div>
            </div>
          </a>

          <!-- 04 Event -->
          <a href="event.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/event-cover.jpg" alt="Event cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">04</span>
                <span class="category-name-en">Event</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">活动</span>
                <span class="category-cta">View series</span>
              </div>
            </div>
          </a>

          <!-- 05 Still Life -->
          <a href="still.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/still-cover.jpg" alt="Still life cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">05</span>
                <span class="category-name-en">Still Life</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">静物</span>
                <span class="category-cta">View series</span>
              </div>
            </div>
          </a>

          <!-- 06 Installation Art -->
          <a href="installation.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/installation-cover.jpg" alt="Installation art cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">06</span>
                <span class="category-name-en">Installation</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">装置艺术</span>
                <span class="category-cta">View works</span>
              </div>
            </div>
          </a>

          <!-- 07 Web Interactive Art -->
          <a href="web-interactive.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/web-interactive-cover.jpg" alt="Web interactive art cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">07</span>
                <span class="category-name-en">Web Interactive</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">网页交互艺术</span>
                <span class="category-cta">View works</span>
              </div>
            </div>
          </a>

          <!-- 08 Short Film -->
          <a href="short-film.html" class="category-row reveal-on-scroll">
            <div class="category-img-wrap">
              <img src="images/short-film-cover.jpg" alt="Short film cover" />
            </div>
            <div class="category-row-label">
              <div class="category-label-top">
                <span class="category-index">08</span>
                <span class="category-name-en">Short Films</span>
              </div>
              <div class="category-label-bottom">
                <span class="category-name-zh">微电影</span>
                <span class="category-cta">View works</span>
              </div>
            </div>
          </a>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about" class="section section-about">
      <div class="container about-layout">
        <div class="about-text reveal-on-scroll">
          <h2>About</h2>
          <p class="about-en">
            I'm Raphael (Boyan) Peng, a photographer, media artist and visual storyteller
            based between New York and Shanghai. I move between travel diaries, portraits
            of friends, street scenes, event documentation, still life studies, installations,
            web-based interactive pieces and short films.
          </p>
          <p class="about-en">
            This site is a small selection of work — not everything, just the images and
            experiments that stayed with me a bit longer.
          </p>
          <p class="about-zh">
            我是彭柏琰（Raphael），在纽约与上海之间游走的摄影师、媒体艺术创作者与影像叙事者。
            这里不是全部作品，只是一些暂时被留下的片段：旅行、人像、街拍、活动、静物，
            以及装置、网页交互作品和短片。
          </p>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="section section-contact">
      <div class="container">
        <h2>Contact</h2>
        <div class="contact-grid">
          <div class="contact-block reveal-on-scroll">
            <h3>Email</h3>
            <p><a href="mailto:fuyiboyan@email.com">fuyiboyan@email.com</a></p>
          </div>
          <div class="contact-block reveal-on-scroll">
            <h3>Social</h3>
            <ul class="contact-list">
              <li><a href="#" target="_blank" rel="noreferrer">Instagram</a></li>
              <li><a href="https://www.xiaohongshu.com/user/profile/5f0745550000000001002111" target="_blank"
                  rel="noreferrer">Xiaohongshu</a></li>
              <li><a href="https://space.bilibili.com/286403219?spm_id_from=333.1365.0.0" target="_blank"
                  rel="noreferrer">Bilibili</a></li>
            </ul>
          </div>
          <div class="contact-block reveal-on-scroll">
            <h3>Based in</h3>
            <p>New York &amp; Shanghai</p>
          </div>
        </div>
        <div class="contact-cta-wrap reveal-on-scroll">
          <a class="contact-cta" href="mailto:...">Work together</a>
          <p class="contact-cta-note">
            Shoots, installations, interactive projects and film collaborations are all welcome.
          </p>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-content">
      <p>© <span id="year"></span> Boyan Peng. All rights reserved.</p>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Hero 轮播逻辑：并排长带 + 无限循环 + 拖动 / 触控板
    (function () {
      const track = document.querySelector('.hero-slides');
      const heroSection = document.querySelector('.hero-slider');
      const baseSlides = Array.from(track.querySelectorAll('.hero-slide'));
      const paginationContainer = document.querySelector('.hero-pagination');

      if (!track || !heroSection || baseSlides.length === 0) return;

      const baseCount = baseSlides.length;
      const dots = [];

      // 1. 初始化底部圆点（只针对原始的几张）
      if (paginationContainer) {
        paginationContainer.innerHTML = '';
        baseSlides.forEach((_, index) => {
          const dot = document.createElement('div');
          dot.className = 'hero-dot' + (index === 0 ? ' active' : '');
          paginationContainer.appendChild(dot);
          dots.push(dot);
        });
      }

      // 2. 在两端各克隆一张，实现无缝循环
      const firstClone = baseSlides[0].cloneNode(true);
      const lastClone = baseSlides[baseCount - 1].cloneNode(true);
      firstClone.classList.add('is-clone');
      lastClone.classList.add('is-clone');
      firstClone.classList.remove('is-active');
      lastClone.classList.remove('is-active');

      track.insertBefore(lastClone, baseSlides[0]);
      track.appendChild(firstClone);

      const slides = Array.from(track.querySelectorAll('.hero-slide'));
      let currentIndex = 1; // slides[1] 是第一张“真实”的 slide
      let slideTimer = null;
      let isAnimating = false;

      // 把轨道瞬间跳到第 currentIndex 张的位置（无动画）
      function setTrackInstant(index) {
        track.style.transition = 'none';
        track.style.transform = `translateX(-${index * 100}%)`;
        currentIndex = index;
        // 强制回流，让上面这一帧生效
        void track.offsetWidth;
        // 恢复 CSS 里设置的 transition
        track.style.transition = '';
      }

      // 当前看到的是第几张“逻辑” slide（0 ~ baseCount-1）
      function getLogicalIndex() {
        return (currentIndex - 1 + baseCount) % baseCount;
      }

      // 根据 currentIndex 更新文字淡入 & 圆点
      function updateActive() {
        slides.forEach(s => s.classList.remove('is-active'));
        slides[currentIndex].classList.add('is-active');

        const logical = getLogicalIndex();
        dots.forEach((d, i) => {
          d.classList.toggle('active', i === logical);
        });
      }

      // 核心滑动函数：去到轨道上的某个 index（包含克隆）
      function goTo(index) {
        if (isAnimating) return;
        isAnimating = true;

        currentIndex = index;
        track.style.transform = `translateX(-${currentIndex * 100}%)`;

        const onEnd = (e) => {
          if (e.target !== track) return;
          track.removeEventListener('transitionend', onEnd);

          // 如果滑到了最左边的“克隆”（index = 0），瞬间跳回真正的最后一张
          if (currentIndex === 0) {
            setTrackInstant(baseCount);
          }
          // 如果滑到了最右边的“克隆”（最后一个 index），瞬间跳回真正的第一张
          else if (currentIndex === slides.length - 1) {
            setTrackInstant(1);
          }

          updateActive();
          isAnimating = false;
        };

        track.addEventListener('transitionend', onEnd);
      }

      // 相对移动 delta 张（+1 下一张，-1 上一张）
      function goRelative(delta) {
        if (isAnimating) return;
        goTo(currentIndex + delta);
        restartAuto();
      }

      // 自动轮播
      function restartAuto() {
        clearInterval(slideTimer);
        if (baseCount <= 1) return;
        slideTimer = setInterval(() => {
          goRelative(1); // 总是“往右”下一张
        }, 6000);
      }

      // 初始化：跳到第 1 张真实 slide（index = 1）
      setTrackInstant(1);
      updateActive();
      restartAuto();

      // 圆点点击：按最近的方向滑动
      dots.forEach((dot, i) => {
        dot.addEventListener('click', () => {
          const currentLogical = getLogicalIndex();
          if (i === currentLogical) return;

          const forward = (i - currentLogical + baseCount) % baseCount;
          const backward = (currentLogical - i + baseCount) % baseCount;

          if (forward <= backward) {
            goRelative(forward);
          } else {
            goRelative(-backward);
          }
        });
      });

      // Pointer 拖拽（手机 + 电脑鼠标）
      let startX = 0;
      let startY = 0;
      let isPointerDown = false;
      let isHorizontalSwipe = false;
      const SWIPE_THRESHOLD = 22;

      heroSection.addEventListener('pointerdown', (e) => {
        if (e.pointerType === 'mouse' && e.button !== 0) return;
        isPointerDown = true;
        isHorizontalSwipe = false;
        startX = e.clientX;
        startY = e.clientY;
      });

      heroSection.addEventListener('pointermove', (e) => {
        if (!isPointerDown) return;
        const dx = e.clientX - startX;
        const dy = e.clientY - startY;
        if (Math.abs(dx) > Math.abs(dy)) {
          isHorizontalSwipe = true;
        }
      });

      function endPointer(e) {
        if (!isPointerDown) return;
        isPointerDown = false;
        if (!isHorizontalSwipe) return;

        const dx = e.clientX - startX;
        if (Math.abs(dx) > SWIPE_THRESHOLD) {
          if (dx < 0) {
            goRelative(1);   // 向左拖 → 下一张
          } else {
            goRelative(-1);  // 向右拖 → 上一张
          }
        }
        isHorizontalSwipe = false;
      }

      heroSection.addEventListener('pointerup', endPointer);
      heroSection.addEventListener('pointerleave', () => {
        isPointerDown = false;
        isHorizontalSwipe = false;
      });

      // 触控板两指左右滑（wheel 横向滚动）
      let wheelLocked = false;
      let wheelTimer = null;
      const WHEEL_THRESHOLD = 16;

      heroSection.addEventListener('wheel', (e) => {
        // 纵向滚动更大，就当正常滚动用
        if (Math.abs(e.deltaY) >= Math.abs(e.deltaX)) return;
        if (wheelLocked) return;

        if (Math.abs(e.deltaX) > WHEEL_THRESHOLD) {
          e.preventDefault();
          if (e.deltaX > 0) {
            goRelative(1);   // 往右推 → 下一张
          } else {
            goRelative(-1);  // 往左推 → 上一张
          }

          wheelLocked = true;
          clearTimeout(wheelTimer);
          wheelTimer = setTimeout(() => {
            wheelLocked = false;
          }, 260);
        }
      }, { passive: false });
    })();

    // 页面淡入 / 淡出 (增强版：防止白屏)
    const page = document.querySelector('.page');

    if (page) {
      // 定义显示页面的函数
      const showPage = () => {
        requestAnimationFrame(() => {
          page.classList.add('page--visible');
        });
      };

      // 策略 1: 如果页面已经加载好了，直接显示
      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        showPage();
      } else {
        // 策略 2: 监听加载事件
        window.addEventListener('DOMContentLoaded', showPage);
        window.addEventListener('load', showPage);
      }

      // 策略 3: 【最终保底】无论如何，500ms 后强制显示，防止永久白屏
      setTimeout(showPage, 500);

      // 点击类别卡片时先淡出，再跳转
      document.querySelectorAll('.category-row').forEach(link => {
        link.addEventListener('click', (e) => {
          const href = link.getAttribute('href');
          if (!href || href.startsWith('#') || href.startsWith('http')) return;

          // 优先使用现代的 View Transitions
          if (document.startViewTransition) {
            e.preventDefault();
            document.startViewTransition(() => {
              window.location.href = href;
            });
          } else {
            e.preventDefault();
            page.classList.add('page--hidden');
            setTimeout(() => {
              window.location.href = href;
            }, 200);
          }
        });
      });
    }

    // Scroll reveal for elements with .reveal-on-scroll
    const revealEls = document.querySelectorAll('.reveal-on-scroll');

    if (revealEls.length && 'IntersectionObserver' in window) {
      const io = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            io.unobserve(entry.target);
          }
        });
      }, { threshold: 0.15 });

      revealEls.forEach(el => io.observe(el));
    } else {
      // Fallback: if IntersectionObserver is not supported, show all immediately
      revealEls.forEach(el => el.classList.add('is-visible'));
    }
  </script>

</body>

</html>